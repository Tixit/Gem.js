!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):"object"==typeof exports?exports.Gem=t():e.Gem=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var t=e.exports=n(1);t.Style=n(2),t.Canvas=n(3),t.Block=n(4),t.Button=n(5),t.CheckBox=n(6),t.Image=n(7),t.List=n(8),t.Radio=n(9),t.Select=n(10),t.Svg=n(11),t.Table=n(12),t.TextArea=n(13),t.TextField=n(14),t.Text=n(15)},function(e,t,n){function r(e){return void 0!==e.add&&e.children instanceof Array&&void 0!==e.domNode}function i(e){e.attached=!1;for(var t=0;t<e.children.length;t++)i(e.children[t])}var o=n(19),s=n(27),a=n(31),u=n(29),c=n(17),l=n(20),h=n(18),d=n(2);d.isDev=function(){return e.exports.dev};{var f={},v=c.arrayToMap(["abort","afterprint","animationend","animationiteration","animationstart","audioprocess","beforeprint","beforeunload","beginEvent","blocked","blur","cached","canplay","canplaythrough","change","chargingchange","chargingtimechange","checking","click","close","compassneedscalibration","complete","compositionend","compositionstart","compositionupdate","contextmenu","copy","cut","dblclick","decivelight","devicemotion","deviceorientation","deviceproximity","dischargingtimechange","DOMContentLoaded","downloading","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","durationchange","emptied","ended","endEvent","error","focus","focusin","focusout","fullscreenchange","fullscreenerror","gamepadconnected","gamepaddisconnected","hashchange","input","invalid","keydown","keypress","keyup","languagechange","levelchange","load","loadeddata","loadedmetadata","loadend","loadstart","message","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","noupdate","obsolete","offline","online","open","orientationchange","pagehide","pageshow","paste","pause","pointerlockchange","pointerlockerror","play","playing","popstate","progress","ratechange","readystatechange","repeatEvent","reset","resize","scroll","seeked","seeking","select","show","stalled","storage","submit","success","suspend","SVGAbort","SVGError","SVGLoad","SVGResize","SVGScroll","SVGUnload","SVGZoom","timeout","timeupdate","touchcancel","touchend","touchenter","touchleave","touchmove","touchstart","transitionend","unload","updateready","upgradeneeded","userproximity","versionchange","visibilitychange","volumechange","waiting","wheel"]);e.exports=s(o,function(e){function t(e){if(void 0!==e._style){if(e._style.inherit){var t=h.getInheritingStyle(e);if(void 0!==t)return t.mix(e._style,!1)}return e._style}return h.getInheritingStyle(e)}this.name="Gem",this.init=function(){var t=this;if("Gem"===this.name)throw new Error("The 'name' property is required for Gem (it must be set to something that isn't 'Gem')");e.init.call(this),this.attached=!1,this.children=[],this.state=u({}),this.parent=void 0,this._styleSetupInfo=[],this._nativePseudoclassMap={},void 0!==this.id&&(f[this.id]=this),void 0===this.domNode&&(this.domNode=l.div()),this.build.apply(this,arguments),this.attr("gem",this.name),this.domNode.className+=" "+d.defaultClassName;var n={};t.ifon(function(e){!(e in v)||void 0!==t.excludeDomEvents&&e in t.excludeDomEvents||t.domNode.addEventListener(e,n[e]=function(){t.emit.apply(t,[e].concat(Array.prototype.slice.call(arguments)))})}),t.ifoff(function(e){!(e in v)||void 0!==t.excludeDomEvents&&e in t.excludeDomEvents||t.domNode.removeEventListener(e,n[e])})},this.build=function(){1===arguments.length?this.domNode=arguments[0]:arguments.length>=2&&(this.label=arguments[0],this.domNode=arguments[1])},this.domNode,this.label,this.excludeDomEvents,this.children,Object.defineProperty(this,"label",{get:function(){return this._label},set:function(e){if(void 0!==this._label)throw new Error("A Gem's label can only be set once (was already set to: "+this._label+")");this._label=e,this.attr("label",this._label)}}),this.add=function(){this.addAt.apply(this,[this.domNode.children.length].concat(a(arguments)))},this.addAt=function(e){for(var t=y.apply(this,arguments),n=0;n<t.length;n++){var i=t[n];if(void 0!==i.parent)throw new Error("Node at index "+n+" already has a parent. Remove the node from its parent before adding it somewhere else.");if(this.children.splice(e+n,0,i),!r(i))throw new Error("node is not a Gem");var o=this.children[1+n+e];void 0===o?this.domNode.appendChild(i.domNode):this.domNode.insertBefore(i.domNode,o.domNode),i.parent=this,i.emit("newParent")}if(this.attached)for(var n=0;n<t.length;n++){var i=t[n];i.attached=!0,i.style=i._style}},this.addBefore=this.addBeforeNode=function(e){var t=a(arguments).slice(1);if(void 0===e)this.add.apply(this,t);else{var n=this.children.indexOf(e);this.addAt.apply(this,[n].concat(t))}},this.remove=function(){var e=g.apply(this,arguments);e=e.sort(function(e,t){return t-e});for(var t=0;t<e.length;t++){var n=e[t],r=this.children[n];if(void 0===r)throw new Error("There is no child at index "+n);r.parent=void 0,this.children.splice(n,1),this.domNode.removeChild(this.domNode.childNodes[n]),r.emit("parentRemoved")}},this.attr=function(){if(1===arguments.length){if(!(arguments[0]instanceof Object)){var e=this.domNode.getAttribute(arguments[0]);return null===e?void 0:e}var t=arguments[0];for(var e in t)l.setAttribute(this.domNode,e,arguments[0][e])}else{var e=arguments[0];if(void 0!==arguments[1]){var n=arguments[1];l.setAttribute(this.domNode,arguments[0],n)}else this.domNode.removeAttribute(e)}},Object.defineProperty(this,"visible",{get:function(){return"none"!==this.domNode.style.display},set:function(e){e?void 0!==this._displayStyle?(this.domNode.style.display=this._displayStyle,this._displayStyle=void 0):this.domNode.style.display="":(""!==this.domNode.style.display&&"none"!==this.domNode.style.display&&(this._displayStyle=this.domNode.style.display),this.domNode.style.display="none")}}),Object.defineProperty(this,"focus",{get:function(){return document.activeElement===this.domNode},set:function(e){e?this.domNode.focus():this.domNode.blur()}}),Object.defineProperty(this,"style",{get:function(){return this._style},set:function(e){if(this._style=e,this.attached){var n=t(this),r=this.getDefaultStyle(),i=h.mixStyles(r,n);h.setCurrentStyle(this,i,r)}}}),Object.defineProperty(this,"selectionRange",{get:function(){return l.getSelectionRange(this.domNode)},set:function(e){l.setSelectionRange(this.domNode,e[0],e[1])}}),this.attach=function(e){void 0!==e?p(e,this):p(this)},this.detach=function(e){void 0!==e?m(e,this):m(this)},this.computedStyleMap,this._nativePseudoclassMap,this._style,this._currentStyle,this._activeStyle,this._displayStyle,this._styleSetupInfo,this._stateChangeHandler,this.attached,this.getDefaultStyle=function(){return h.getDefaultStyle(this)}})}e.exports.dev=!1;var p=e.exports.attach=function(){if(arguments.length>1)var e=arguments[0],t=arguments[1];else{if(null===document.body)throw new Error("Your document does not have a body.");var e=document.body,t=arguments[0]}if(!(t instanceof Array))var t=[t];for(var n=0;n<t.length;n++)e.appendChild(t[n].domNode),t[n].attached=!0,t[n].style=t[n]._style},m=e.exports.detach=function(e){e instanceof Array||(e=[e]);for(var t=0;t<e.length;t++){var n=e[t];n.domNode.parentNode.removeChild(n.domNode),i(n)}};e.exports.createBody=function(e){var t=document.implementation.createDocument("http://www.w3.org/1999/xhtml","html",null),n=t.createElement("body");t.documentElement.appendChild(n),setTimeout(function(){e()},0)};var g=e.exports.normalizeRemoveArguments=function(){var e=this;if(arguments[0]instanceof Array)var t=arguments[0];else var t=Array.prototype.slice.call(arguments);return t.map(function(t,n){if(r(t)){var i=e.children.indexOf(t);if(-1===i)throw new Error("The Gem passed at argument index "+n+" is not a child of this Gem.");return i}return t})},y=e.exports.normalizeAddAtArguments=function(){return 2===arguments.length?arguments[1]instanceof Array?arguments[1]:[arguments[1]]:a(arguments).slice(1)}},function(e,t,n){function r(e,t){if(null===e.domNode.parentNode)return!1;var n=e.domNode.parentNode.children,r=Array.prototype.indexOf.call(n,e.domNode);return t(r)}function i(e,t){if(null===e.domNode.parentNode)return!1;var n=e.domNode.parentNode.children,r=n.length-parseInt(t);return n[r]===e.domNode}function o(e){var t=e.replace(/\s/g,"").match(w);if(null===t)throw new Error("nth-child parameter '"+e+"' isn't valid");if(void 0!==t[2])var n=t[3],r=t[5];else var n=t[8],r=t[7];return n=void 0===n?0:parseInt(n),r=void 0===r?0:parseInt(r),{variable:r,constant:n}}function s(e,t){return"number"==typeof t&&void 0===S[e]?t+"px":t.toString()}function a(e){var t=e.match(x);if(null===t)throw new Error("Pseudoclass '"+e+"' is invalid");return{"class":t[1],parameter:t[3]}}function u(e){return void 0!==e&&void 0!==e.componentStyleMap}function c(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()})}function l(e){for(var t=void 0,n=document.querySelectorAll("style"),r=0;r<n.length;r++){var i=n[r].sheet;h.defaultSheet=i;var o=h.get(e);if(Object.keys(o).length>0){t=r;break}}return h.defaultSheet=void 0,t}var h=n(16),d=n(27),f=n(28),v=n(17),p="_ComponentStyle_",m=0,g=new f,y=e.exports=d(function(){function e(t,n){for(var r in t)if(r in n){if(!t[r].pureNative)return!0;var i=n[r];if(e(t,i.componentStyleMap))return!0;for(var o=i.pseudoclasses.classes.values(),s=0;s<o.length;s++){var a=o[s];if(e(t,a.componentStyleMap))return!0}}return!1}function e(t,n){for(var r in n){if(r in t&&!t[r].pureNative)return!0;var i=n[r];if(e(t,i.componentStyleMap))return!0;for(var o=i.pseudoclasses.classes.values(),s=0;s<o.length;s++){var a=o[s];if(e(t,a.componentStyleMap))return!0}}return!1}function t(e){var t=a(e),n=b[t["class"]];if(void 0===n)throw new Error("Pseudoclass "+t["class"]+" isn't emulated, but has a style that can't be rendered in pure css");var r={fns:n};return void 0!==t.parameter&&(r.parameter=void 0!==n.processParameter?n.processParameter(t.parameter):t.parameter),r}function r(e,t,n){var r=v.merge({},e.basicProperties,t.basicProperties),o=y(r);return o.componentStyleMap=i(e,t),o.pseudoclasses=h(e,t),o.stateHandler=void 0!==t.stateHandler?t.stateHandler:e.stateHandler,o.setup=void 0!==t.setup?t.setup:e.setup,o.kill=void 0!==t.kill?t.kill:e.kill,n&&(o.inherit=e.inherit||t.inherit),o.pureNative=l(o),o}function i(e,t){var n=v.merge({},e.componentStyleMap);for(var r in t.componentStyleMap){var i=t.componentStyleMap[r];n[r]=o(n[r],i)}return n}function o(e,t){return void 0===t?e:t.inherit?void 0===e?t:e.mix(t,!1):t}function l(e){if(void 0===e.setup&&void 0===e.kill&&void 0===e.stateHandler){var t=!0;if(e.pseudoclasses.classes.forEach(function(e){e.pureNative||(t=!1)}),!t)return!1;var n=!0;for(var r in e.componentStyleMap)if(e.componentStyleMap[r].pureNative!==!0){n=!1;break}return n?!0:!1}}function h(e,t){function n(e,t){var n=v.hashmapMerge(new f,e);return t.forEach(function(e,r){if(n.has(r))var i=n.get(r).mix(t.get(r),!0);else var i=t.get(r);n.set(r,i)}),n}var r=n(e.pseudoclasses.classes,t.pseudoclasses.classes),i=v.merge({},e.pseudoclasses.emulatedInfo,t.pseudoclasses.emulatedInfo);return{classes:r,emulatedInfo:i}}function d(e,t){function n(e,t){var n=e.cssRules||e.rules||[],o=n.length,s=r(e,t,n,o);return s||i(e,t,o),n[o].style}function r(e,t,n,r){var o,c;if(S.exec(t))o=t,c=u(t);else{if(!E.exec(t))return!1;o=s(t),c=t}if(!x){try{i(e,o,r)}catch(l){i(e,a(t),r)}n.length<=r&&(x=!0)}return x&&i(e,c,r),!0}function i(e,t,n){e.insertRule?e.insertRule(t+" { }",n):e.addRule(t,null,n)}function o(e,t){for(var n in t)e.setProperty(n,t[n])}function s(e){return e.replace(E,function(e,t,n,r){return t+"::"+r})}function a(e){return e.replace(E,function(e,t,n,r){return t+"::-moz-"+r})}function u(e){return e.replace(S,function(e,t,n){return":"+n})}var l={};for(key in t)l[c(key)]=t[key];var h=n(k.defaultSheet,e);o(h,t)}function w(e,t,r,i,o){function a(e,t,n){void 0===h[e]&&(h[e]={}),h[e][t]=n}function u(e,n,r,i){if(!t.nativePseudoclassesWritten[e]){var a={};if(i){var u=Object.keys(r.basicProperties);r.pseudoclasses.classes.forEach(function(e){u=u.concat(Object.keys(e.basicProperties))});for(var l=0;l<u.length;l++){var h=u[l];if(o)var f=o.basicProperties[h];var v=f||N[h]||(h in _?"inherit":"initial");a[h]=v}}for(var h in n){var p=n[h],m=h,g=c(m);a[g]=s(g,p)}d(e,a),void 0!==this.nativePseudoclassStyles&&(r.nativePseudoclassStyles[e]=a),t.nativePseudoclassesWritten[e]=!0}}void 0===r&&(r={});var l=[],h={},f=0;t.pseudoclasses.classes.forEach(function(e,n){var r="."+t.className+":"+n.join(":");if(e.pureNative){u(r,e.basicProperties,t,!1),l.push(n.join(":"));for(var o in e.componentStyleMap)a(o,r,e.componentStyleMap[o])}else if(f===i)for(var s=0;s<l.length;s++){var c=l[s];u(r+":"+c,t.basicProperties,t,!0)}f++});var v=n(18);for(var p in r){var m=r[p];m.inherit&&(m=v.getInheritingStyle(e).mix(m,!1));var g=p+" ."+t.className;u(g,m.basicProperties,t,!0);for(var y in m.componentStyleMap)a(y,g,m.componentStyleMap[y]);m.pseudoclasses.classes.forEach(function(e,n){e.pureNative&&u(g+":"+n.join(":"),e.basicProperties,t,!0)})}return h}this.fromString=function(e,t){void 0===t&&(t={});var n=JSON.parse(e),r=function(e){for(var n in e){var i=e[n];if(i instanceof Object)r(i);else if("string"==typeof i&&"function"===i.substr(0,8)){void 0===t.Style&&(t.Style=y);var o=[],s=[];for(var a in t)o.push(a),s.push(t[a]);e[n]=Function(o,"return "+i).apply(void 0,s)}}};return r(n),y(n)},this.defaultClassName="_default_",this.init=function(n,r){function i(e,t){if(void 0!==t.stateHandler)throw new Error("$state style functions are not valid directly inside psuedoclasses");var n=new f,r=t.copy(),i=r.pseudoclasses;return r.pseudoclasses={classes:new f,emulatedInfo:{}},n.set(e,r),i.classes.forEach(function(t,i){var s=o(e.concat(i)),a=r.mix(t,!1);n.set(s,a)}),n}function o(e){e.sort();for(var t=e[0],n=1;n<e.length;)e[n]===t?e.splice(n,1):n++;return e}function h(e,t,n){if(e.has(t))var r=e.get(t).mix(n,!1);else var r=n;e.set(t,r)}function d(n,r){var i=new f;n.forEach(function(t,n){if(t.pureNative){for(var o=!0,s=0;s<n.length;s++){var u=a(n[s]),c=b[u["class"]];if(void 0!==c&&!c.emulated){o=!1;break}}var l=!1;o&&(l=e(r,t.componentStyleMap)),t.pureNative=o&&!l}for(var s=0;s<n.length;s++){var u=a(n[s]),c=b[u["class"]];if(void 0!==c&&void 0!==c.parameterTransform){var h=c.parameterTransform(u.parameter);n[s]=u["class"]+"("+h+")"}}i.set(n,t)});var o={};return i.forEach(function(e,n){e.pureNative||n.forEach(function(e){e in o||(o[e]=t(e))})}),{classes:i,emulatedInfo:o}}if(u(n))return n;void 0===r&&(r={}),this.className=p+m,m++,this.componentStyleMap={},this.nativeCssInfoCache=new f,this.nativePseudoclassesWritten={},this.basicProperties={},y.isDev()&&(this.nativePseudoclassStyles={});var v=new f;for(var g in n){var w=n[g];if("$setup"===g){if(!(w instanceof Function))throw new Error("$setup key must be a function ('setup' can't be used as a label)");this.setup=w}else if("$kill"===g){if(!(w instanceof Function))throw new Error("$kill key must be a function ('kill' can't be used as a label)");this.kill=w}else if("$state"===g){if(!(w instanceof Function))throw new Error("$state key must be a function ('$state' can't be used as a label)");this.stateHandler=w}else if("$inherit"===g)this.inherit=!0;else if(0===g.indexOf("$$")){var x=a(g.substr(2)),S=c(x["class"]);if(void 0!==x.parameter&&(S+="("+x.parameter+")"),""===S)throw new Error("Empty pseudo-class name not valid (style key '$$')");var N=i([S],y(w));N.forEach(function(e,t){h(v,t,e)})}else{if("$"===g)throw new Error("Empty label name not valid (style key '$')");if(w instanceof Object||u(w))this.componentStyleMap[g]=y(w);else if(void 0===w);else{var _=g,E=c(_);this.basicProperties[E]=s(E,w)}}}this.pseudoclasses=d(v,this.componentStyleMap),this.pureNative=l(this)},this.mix=function(e,t){if(void 0===t&&(t=!0),void 0===e||e===this)return this;u(e)||(e=y(e));var n=[this,e,t],i=g.get(n);if(void 0===i){var i=r(this,e,t);g.set(n,i)}return i},this.copy=function(){return r(this,y(),!0)},this.createNativeCssInfo=function(e,n,r,i,o){function s(e){e.pureNative=!1;var n=new f;return e.pseudoclasses.classes.forEach(function(r,i){var o=r.copy();o.pureNative=!1,n.set(i,o),i.forEach(function(n){n in r.pseudoclasses.emulatedInfo||(e.pseudoclasses.emulatedInfo[n]=t(n))})}),e.pseudoclasses.classes=n,e}function a(e,t){e.set(h,t)}function u(e){function t(e,t){n[e]=!0;var r=u(t);v.merge(n,r)}var n={};for(var r in e.componentStyleMap){var i=e.componentStyleMap[r];t(r,i)}return e.pseudoclasses.classes.forEach(function(e){if(e.pureNative)for(var n in e.componentStyleMap){var r=e.componentStyleMap[n];t(n,r)}}),n}function c(e,t){var n=[],r=[];for(var i in e){var o=t[i];void 0===o?r.push(i):o.pureNative||n.push(i)}return{impure:n,undef:r}}if(this.inherit)var l=e.parent;var h=[l,n,r,i,o],p=this.nativeCssInfoCache.has(h);if(p)return this.nativeCssInfoCache.get(h);var m=this;if(this.pureNative&&0!==this.pseudoclasses.classes.keys().length){var g=u(this),b=c(g,n),x=b.impure.length>0;if(x){var S=this.copy();s(S);var N={cancel:!0,retryStyle:S};return a(this.nativeCssInfoCache,N),N}var _=v.merge({},n);for(var E in _)E in g&&(_[E]=_[E].copy());for(var k=0;k<b.undef.length;k++)_[b.undef[k]]=y();m=this.copy(),n=_}m.basicNativeCssRendered||(d("."+m.className,m.basicProperties),m.basicNativeCssRendered=!0);var j=w(e,m,r,i,o),N={style:m,styleMap:n,nativePseudoclassMap:j};return a(this.nativeCssInfoCache,N),N},this.toObject=function(){var e={};for(var t in this.basicProperties)e[t]=this.basicProperties[t];this.inherit&&(e.$inherit=!0);for(var n in this.componentStyleMap)e[n]=this.componentStyleMap[n].toObject();var r=function(t,n){var r,i,o=e;t.forEach(function(e){var t="$$"+e;void 0===o[t]&&(o[t]={}),i=t,r=o,o=o[i]});var s=n.toObject();for(var a in s)r[i][a]=s[a]};return void 0!==this.pseudoclasses.classes&&this.pseudoclasses.classes.forEach(function(e,t){r(t,e)}),void 0!==this.stateHandler&&(e.$state=this.stateHandler),void 0!==this.setup&&(e.$setup=this.setup),void 0!==this.kill&&(e.$kill=this.kill),e},this.toString=function(){var e=this.toObject(),t=function(e){for(var n in e){var r=e[n];r instanceof Function?e[n]=r.toString():r instanceof Object&&t(r)}};return t(e),JSON.stringify(e)},this.className,this.componentStyleMap,this.setup,this.kill,this.nativeCssInfoCache,this.basicNativeCssRendered;var x=!1,S=/(::)(before|after|first-line|first-letter|selection)/,E=/([^:])(:)(before|after|first-line|first-letter|selection)/}),b={hover:{emulated:!0,check:function(e){for(var t=document.querySelectorAll(":hover"),n=0;n<t.length;n++)if(t[n]===e.domNode)return!0;return!1},setup:function(e,t,n){return e.on("mouseover",function(){t()}),e.on("mouseout",n),{start:t,end:n}},kill:function(e,t){e.off("mouseover",t.start),e.off("mouseout",t.end)}},checked:{emulated:!0,check:function(e){return"INPUT"!==e.domNode.nodeName&&"OPTION"!==e.domNode.nodeName?(console.warn("The pseudoclass 'checked' can only apply to 'input' nodes (Button, CheckBox, RadioButton, or TextField) or 'option' nodes (Option)"),!1):e.selected},setup:function(e,t,n){var r={};return e.on("change",r.listener=function(){e.selected?t():n()}),r},kill:function(e,t){e.removeListener("change",t.listener)}},required:{emulated:!0,check:function(e){return"INPUT"!==e.domNode.nodeName?(console.warn("The pseudoclass 'required' can only apply to 'input' nodes (Button, CheckBox, RadioButton, or TextField)"),!1):void 0!==e.attr("required")},setup:function(e,t,n){var r=new MutationObserver(function(){void 0!==e.attr("required")?t():n()});return r.observe(e.domNode,{attributes:!0}),{observer:r}},kill:function(e,t){t.observer.disconnect()}},"last-child":{emulated:!0,check:function(e){return i(e,"1")},setup:function(e,t,n){var r=new MutationObserver(function(){i(e,"1")?t():n()}),o=function(){r.observe(e.parent.domNode,{childList:!0})};return void 0!==e.parent&&o(),e.on("newParent",function(){o()}),e.on("parentRemoved",function(){r.disconnect()}),{observer:r}},kill:function(e,t){t.observer.disconnect()}},"nth-child":{emulated:!0,parameterTransform:function(e){var t=o(e);return 0===t.variable?t.constant+"":0===t.constant?t.variable+"n":t.variable+"n+"+t.constant},check:function(e,t){return r(e,t)},setup:function(e,t,n,i){var o=function(){r(e,i)?t():n()},s=new MutationObserver(function(){o()}),a=function(){s.observe(e.parent.domNode,{childList:!0})};return void 0!==e.parent&&a(),e.on("newParent",function(){a(),o()}),e.on("parentRemoved",function(){s.disconnect(),o()}),{observer:s}},kill:function(e,t){t.observer.disconnect()},processParameter:function(e){var t=o(e);return 0===t.variable?function(e){return e+1===t.constant}:function(e){return(e+1-t.constant)/t.variable%1===0}}},not:{emulated:!0,parameterTransform:function(e){var t=e.split(",");return t.map(function(e){var t=e.split(":");return t.map(function(e){var t=a(e),n=c(t["class"]);return void 0!==t.parameter?n+"("+t.parameter+")":n}).join(":")}).join(",")},check:function(){throw new Error("The 'not' psuedoclass can only be used in Style objects that can be rendered in native css as of yet")},setup:function(){throw new Error("The 'not' psuedoclass can only be used in Style objects that can be rendered in native css as of yet")},kill:function(){throw new Error("The 'not' psuedoclass can only be used in Style objects that can be rendered in native css as of yet")},processParameter:function(){throw new Error("The 'not' psuedoclass can only be used in Style objects that can be rendered in native css as of yet")}}};e.exports.addPseudoClass=function(e,t){var n=c(e);if(void 0!==b[n]){var r='"'+n+'"';throw n!==e&&(r+=" (mapped from '"+e+"')"),new Error("The pseudoclass "+r+" is already defined.")}b[n]=t};var w=new RegExp("^(((-?\\d*)(([+-]\\d*)n?)?)|((-?\\d)*n?([+-]\\d*)?))$"),x=new RegExp("([^(]*)(\\((.*)\\))?$"),S={"column-count":1,"fill-opacity":1,"flex-grow":1,"flex-shrink":1,"font-weight":1,"line-height":1,opacity:1,order:1,orphans:1,widows:1,"z-index":1,zoom:1},N={azimuth:"center","border-collapse":"separate","border-spacing":"0","box-sizing":"border-box","caption-side":"top",direction:"ltr",display:"inline-block",elevation:"","empty-cells":"show","letter-spacing":"normal","line-height":"normal","list-style-image":"none","list-style-position":"outside","list-style-type":"disc",orphans:"2","pitch-range":"",pitch:"",position:"relative",quotes:"",richness:"","speak-header":"","speak-numeral":"","speak-punctuation":"",speak:"","speak-rate":"",stress:"","text-align":"left","text-indent":"0","text-transform":"none","voice-family":"",volume:"","white-space":"normal",widows:"2","word-spacing":"normal"},_={"font-family":1,"font-size":1,"font-style":1,"font-variant":1,"font-weight":1,visibility:1,color:1,cursor:1},E=h.forDocument(document),k=h.forDocument(document),j=l("."+y.defaultClassName);if(void 0===j)E.defaultSheet=E._createSheet(),k.defaultSheet=k._createSheet();else{console.log("Warning: the default-styles class name for blocks.js looks like its already in use. This probably means you have two versions of blocks.js loaded. If so, Gem.js will continue to work, but your app will be a bit bloated. If something other than block.js created that class, blocks.js may break that style.");var P=document.querySelectorAll("style");E.defaultSheet=P[j].sheet,k.defaultSheet=P[j+1].sheet;for(var O=0;;){var A=p+O;if(void 0===l("."+A+O+0))break;O++}p=A+O}E.set("."+y.defaultClassName,N),E.set("input",{cursor:"inherit"}),E.set("img",{"box-sizing":"content-box"}),e.exports.isDev},function(e,t,n){{var r=n(1),i=n(27);n(2)}e.exports=i(r,function(e){this.name="Canvas",this.init=function(){if(2===arguments.length)var t=arguments[0],n=arguments[1];else var r=arguments[0],t=arguments[1],n=arguments[2];this.domNode=document.createElement("canvas"),e.init.call(this),this.label=r,this.height=t,this.width=n},Object.defineProperty(this,"width",{get:function(){return this.domNode.width},set:function(e){this.domNode.width=e}}),Object.defineProperty(this,"height",{get:function(){return this.domNode.height},set:function(e){this.domNode.height=e}}),this.context=function(){return this.domNode.getContext.apply(this.domNode,arguments)},this.toImg=this.toDataURL=function(){return this.domNode.toDataURL()}})},function(e,t,n){var r=n(1),i=n(27);e.exports=i(r,function(e){this.name="Block",this.init=function(){if("string"!=typeof arguments[0]&&void 0!==arguments[0])var t=arguments;else var n=arguments[0],t=Array.prototype.slice.call(arguments,1);e.init.call(this),this.label=n,void 0!==t&&this.add.apply(this,t)}})},function(e,t,n){var r=n(1),i=n(27);e.exports=i(r,function(e){this.name="Button",this.init=function(){if(arguments.length>=2)var t=arguments[0],n=arguments[1];else var n=arguments[0];this.domNode=document.createElement("input"),e.init.call(this),this.label=t,this.attr("type","button"),this.text=n},Object.defineProperty(this,"text",{get:function(){return this.attr("value")},set:function(e){this.attr("value",e)}})})},function(e,t,n){var r=n(1),i=n(27);e.exports=i(r,function(e){this.name="CheckBox",this.init=function(t){this.domNode=document.createElement("input"),e.init.call(this),this.label=t,this.attr("type","checkbox")},Object.defineProperty(this,"selected",{get:function(){return this.domNode.checked},set:function(e){var t=e===!0,n=this.domNode.checked;n!==t&&(this.domNode.checked=t,this.emit("change"))}})})},function(e,t,n){var r=n(1),i=n(27);e.exports=i(r,function(e){this.name="Image",this.init=function(){if(1===arguments.length)var t=arguments[0];else var n=arguments[0],t=arguments[1];this.domNode=document.createElement("img"),e.init.call(this);this.label=n,void 0!==t&&(this.src=t)},Object.defineProperty(this,"src",{get:function(){return this.domNode.src},set:function(e){this.domNode.src=e}})})},function(e,t,n){var r=n(27),i=n(1),o=n(2),s=n(21);e.exports=r(i,function(e){this.Item=s,this.name="List",this.init=function(){if(arguments[0]instanceof Array)var t=arguments[0];else{if(arguments[1]instanceof Array)var t=arguments[1];else if(arguments[2]instanceof Array)var t=arguments[2];if("boolean"==typeof arguments[0])var n=arguments[0];else{if("boolean"==typeof arguments[1])var n=arguments[1];else var n=!1;if("string"==typeof arguments[0])var r=arguments[0]}}if(n)var i="ol";else{var i="ul";this.defaultStyle=o({listStyleType:"decimal"})}if(this.domNode=document.createElement(i),e.init.call(this),this.label=r,void 0!==t)for(var s=0;s<t.length;s++)this.item(t[s])},this.item=function(){var e=s.apply(this,arguments);return this.add(e),e}})},function(e,t,n){function r(e,t){var n=e.group.buttons,r=Object.keys(n),i=r.indexOf(e.attr("value"));if(1===t&&i===r.length-1)var o=n[r[0]];else if(-1===t&&0===i)var o=n[r[r.length-1]];else var o=n[r[i+t]];o.selected=!0,o.focus()}function i(e,t){var n=e._selected;void 0!==n&&(n.domNode.checked=!1),t.domNode.checked=!0,e._selected=t}function o(e,t){return Math.floor(Math.random()*(t-e))+e}var s=n(27),a=n(26).EventEmitter,u=n(1),c=o(0,999999);e.exports=s(a,function(){this.name="Radio",this.init=function(e){this.required=e===!0||void 0===e,this.buttons={},this.randomStart=c++},this.button=function(){if(arguments.length>=2)var e=arguments[0],t=arguments[1];else var t=arguments[0];if(void 0!==this.buttons[t])throw new Error("Can't give a RadioButton the same value as another in the group (value: '"+t+"')");var n=l(this,e,t,"_radioblock"+this.randomStart);return this.buttons[t]=n,this.required&&void 0===this._selected&&(n.selected=!0),n},Object.defineProperty(this,"selected",{get:function(){return this._selected},set:function(){throw new Error("Can't set selected on a Radio object")}}),Object.defineProperty(this,"val",{get:function(){var e=this._selected;return void 0===e?void 0:e.attr("value")},set:function(e){if(void 0===e){var t=this._selected;void 0!==t&&(t.selected=!1)}else{var n=this.buttons[e];if(void 0===n)throw new Error("There is no RadioButton in the group with the value: '"+e+"'");n.selected=!0}}}),this.remove=function(){if(arguments[0]instanceof Array)var e=arguments[0];else var e=arguments;for(var t=0;t<e.length;t++){var n=e[t];if(n instanceof l){var r=n,i=n.val;if(this.buttons[i]!==n)throw new Error("The button passed at index "+t+" is not part of the group.")}else{var r=this.buttons[n],i=n;if(void 0===r)throw new Error("There is no RadioButton in the group with the value: '"+i+"'")}var o=this.selected;this.selected===r&&(this._selected=void 0),this.buttons[i].group=void 0,delete this.buttons[i]}if(this.required&&void 0===this.selected)for(var s in this.buttons){this.buttons[s].selected=!0;break}else o!==this.selected&&this.emit("change")}});var l=s(u,function(e){this.name="RadioButton",this.init=function(t,n,r,i){this.domNode=document.createElement("input"),e.init.call(this),this.label=n,this.group=t,this.attr("type","radio"),this.attr("name",i),this.val=r;var o=this;this.on("mousedown",function(e){e.preventDefault(),o.group.required?o.selected===!1&&(o.selected=!0):o.selected=!o.selected}),this.on("click",function(e){e.preventDefault()}),this.on("keydown",function(e){40===e.keyCode||39===e.keyCode?(e.preventDefault(),o.selectNext()):(38===e.keyCode||37===e.keyCode)&&(e.preventDefault(),o.selectPrevious())})},Object.defineProperty(this,"val",{get:function(){return this.attr("value")},set:function(e){if(void 0!==this.group.buttons[e])throw new Error("Can't give a RadioButton the same value as another in the group (value: '"+e+"')");var t=this.val;this.attr("value",e),void 0!==t&&delete this.group.buttons[t],this.group.buttons[e]=this}}),Object.defineProperty(this,"selected",{get:function(){return this.domNode.checked},set:function(e){var t=e===!0;if(this.selected!==e){if(t){var n=this.group.selected;i(this.group,this),void 0!==n&&n.emit("change")}else{if(this.group.required)throw new Error("Can't unset this Radio set, a value is required.");this.domNode.checked=!1,this.group._selected=void 0}this.emit("change"),this.group.emit("change")}}}),this.selectNext=function(){r(this,1)},this.selectPrevious=function(){r(this,-1)}})},function(e,t,n){var r=n(1),i=n(27),o=n(22);e.exports=i(r,function(e){this.name="Select",this.Option=o,this.init=function(){if(arguments[0]instanceof Object)var t=arguments[0];else var n=arguments[0],t=arguments[1];this.domNode=document.createElement("select"),e.init.call(this),this.label=n,this.options={};for(var r in t)this.option(r,t[r])},Object.defineProperty(this,"val",{get:function(){for(var e in this.options)if(this.options[e].selected)return this.options[e].val},set:function(e){var t=this.options[e];if(void 0===t||t.val!==e)throw new Error("There is no Option in the Select with the value: '"+e+"'");t.selected=!0}}),this.option=function(){if(2===arguments.length)var e=arguments[0],t=arguments[1];else{if(3!==arguments.length)throw new Error("Invalid number of arguments");var n=arguments[0],e=arguments[1],t=arguments[2]}var r=o(n,e,t);return this.add(r),r},this.addAt=function(t){var n=this,i=r.normalizeAddAtArguments.apply(this,arguments);i.forEach(function(e){if(void 0!==n.options[e.val])throw new Error("Can't give an Option the same value as another in the Select (value: '"+e.val+"')")}),e.addAt.call(this,t,i);var o=!1;i.forEach(function(e){e.selected&&(o=!0),n.options[e.val]=e,e.on("mousedown",function(){e.parent.val=e.val})}),o&&this.emit("change")},this.remove=function(){var t=this,n=r.normalizeRemoveArguments.apply(this,arguments),i=n.map(function(e){return t.children[e]});e.remove.call(this,n);var o=!1;i.forEach(function(e){e.selected&&(o=!0),delete t.options[e.val]}),o&&this.emit("change")},this.prepareForValueChange=function(e){var t=e[0];for(var n in this.options)if(n!==t){var r=this.options[n];r.selected===!0&&r.setSelectedQuiet(!1)}}})},function(e,t,n){var r=n(27),i=n(1);e.exports=r(i,function(){this.name="Svg",this.build=function(){if(1===arguments.length)var e=arguments[0];else var t=arguments[0],e=arguments[1];var n=document.createElement("div");
n.innerHTML=e,this.domNode=n.firstChild,this.label=t}})},function(e,t,n){function r(e,t,n){var r=t.apply(void 0,n);return e.add(r),r}var i=n(27),o=n(1),s=n(2),a=n(23),u=n(24),c=n(25);e.exports=i(o,function(e){this.name="Table",this.defaultStyle=s({borderSpacing:0}),this.Row=u,this.Header=a,this.Cell=c,this.init=function(){if(arguments[0]instanceof Array)var t=arguments[0];else var n=arguments[0],t=arguments[1];if(this.domNode=document.createElement("table"),e.init.call(this),this.label=n,void 0!==t)for(var r=0;r<t.length;r++)this.row(t[r])},this.header=function(){return r(this,a,arguments)},this.row=function(){return r(this,u,arguments)}})},function(e,t,n){var r=n(1),i=n(27);e.exports=i(r,function(e){this.name="TextArea",this.init=function(t){this.domNode=document.createElement("textarea"),e.init.call(this),this.label=t},Object.defineProperty(this,"val",{get:function(){return this.domNode.value},set:function(e){this.val!==e&&(this.domNode.value=e,this.emit("change"))}})})},function(e,t,n){var r=n(1),i=n(27),o=n(20);e.exports=i(r,function(e){this.name="TextField",this.init=function(){if(1===arguments.length)var t=arguments[0];else if(arguments.length>1)var n=arguments[0],t=arguments[1];this.domNode=document.createElement("input"),e.init.call(this),this.label=n,t&&o.setAttribute(this.domNode,"type","password")},Object.defineProperty(this,"val",{get:function(){return this.domNode.value},set:function(e){this.val!==e&&(this.domNode.value=e,this.emit("change"))}})})},function(e,t,n){var r=n(27),i=n(1),o=n(2),s=n(20);e.exports=r(i,function(e){this.name="Text",this.defaultStyle=o({whiteSpace:"pre-wrap"}),this.init=function(){if(1===arguments.length)var t=arguments[0];else var n=arguments[0],t=arguments[1];void 0===t&&(t=""),e.init.call(this),this.label=n,this.text=t},Object.defineProperty(this,"text",{get:function(){return this.domNode[s.textProperty]},set:function(e){this.domNode[s.textProperty]=e}})})},function(e){var t=function(){function e(e){for(var t=e.cssRules||e.rules||[],n={},r=0;r<t.length;r++){var i=o(t[r].selectorText);n[i]||(n[i]=[]),n[i].push({sheet:e,index:r,style:t[r].style})}return n}function t(e,t){var n=e.cssRules||e.rules||[],r=[];t=t.toLowerCase();for(var i=0;i<n.length;i++){var o=n[i].selectorText;!o||o!=t&&o!=h(t)&&o!=d(t)||r.push({sheet:e,index:i,style:n[i].style})}return r}function n(e,t){var n=e.cssRules||e.rules||[],o=n.length,s=i(e,t,n,o);return s||r(e,t,o),{sheet:e,index:o,style:n[o].style}}function r(e,t,n){e.insertRule?e.insertRule(t+" { }",n):e.addRule(t,null,n)}function i(e,t,n,i){var a,u;if(b.exec(t))a=t,u=s(t);else{if(!w.exec(t))return!1;a=o(t),u=t}return g||(r(e,a,i),n.length<=i&&(g=!0)),g&&r(e,u,i),!0}function o(e){return e.replace(w,function(e,t,n,r){return t+"::"+r})}function s(e){return e.replace(b,function(e,t,n){return":"+n})}function a(e){var t=e.sheet;t.deleteRule?t.deleteRule(e.index):t.removeRule&&t.removeRule(e.index)}function u(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function c(e){for(var t={},n=0;n<e.length;n++)u(t,l(e[n].style));return t}function l(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=e[v(e[n])];return t}function h(e){for(var t="",n=0;null!=(match=y.exec(e))&&""!==match[0];)t+=e.substring(n,match.index),t+=e.substr(match.index+match[1].length,match[2].length),t+=e.substr(match.index,match[1].length),n=match.index+match[0].length;return t+=e.substr(n)}function d(e){return b.exec(e)?s(e):e}function f(e,t){for(var n in t){var r=t[n],i=r.indexOf(" !important");e.style.removeProperty(n),i>0?e.style.setProperty(n,r.substr(0,i),"important"):e.style.setProperty(n,r)}}function v(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}function p(e){var t={};for(var n in e)t[m(n)]=e[n];return t}function m(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()})}var g,y=/((?:\.|#)[^\.\s#]+)((?:\.|#)[^\.\s#]+)/g,b=/(::)(before|after|first-line|first-letter|selection)/,w=/([^:])(:)(before|after|first-line|first-letter|selection)/,x=function(e){this.doc=e,this.head=this.doc.head||this.doc.getElementsByTagName("head")[0],this.sheets=this.doc.styleSheets||[]};x.prototype={get:function(n){if(!this.defaultSheet)return{};if(n)return c(t(this.defaultSheet,n));var r=e(this.defaultSheet);for(n in r)r[n]=c(r[n]);return r},getAll:function(e){for(var n={},r=0;r<this.sheets.length;r++)u(n,c(t(this.sheets[r],e)));return n},set:function(e,r){this.defaultSheet||(this.defaultSheet=this._createSheet()),r=p(r);var i=t(this.defaultSheet,e);i.length||(i=[n(this.defaultSheet,e)]);for(var o=0;o<i.length;o++)f(i[o],r)},remove:function(e){if(this.defaultSheet){if(!e)return this._removeSheet(this.defaultSheet),void delete this.defaultSheet;for(var n=t(this.defaultSheet,e),r=0;r<n.length;r++)a(n[r]);return n.length}},_createSheet:function(){var e=this.doc.createElement("style");return e.type="text/css",e.rel="stylesheet",this.head.appendChild(e),e.sheet},_removeSheet:function(e){var t=e.ownerNode;t.parentNode.removeChild(t)}};var S=new x(document);return S.forDocument=function(e){return new x(e)},S}();"undefined"!=typeof e&&e.exports&&(e.exports=t)},function(e,t,n){function r(e,t){var n=e[0],i=e[1];for(var o in i)t&&n[o]instanceof Object&&i[o]instanceof Object?r([n[o],i[o]],!0):n[o]=i[o];if(e.length>2){var s=[n].concat(e.slice(2));return r(s,t)}return n}function i(e){return Array.prototype.slice.call(e,0)}{var o=(n(32),t.merge=function(){return r(i(arguments),!1)});t.deepMerge=function(){return r(i(arguments),!0)}}t.hashmapMerge=function(e,n){if(n.forEach(function(t,r){e.set(r,n.get(r))}),arguments.length>2){var r=[e].concat(Array.prototype.slice.call(arguments,2));return t.hashmapMerge.apply(this,r)}return e},t.objectConjunction=function(e,t){var n={};return o(n,e),o(n,t),n},t.arrayToMap=function(e){var t={};return e.forEach(function(e){t[e]=!0}),t}},function(e,t,n){function r(e,t,n){function r(){var r=a(t,o),s=S(t,r.style);i(e,s,r.index,n)}var o={};for(var s in e._styleSetupInfo)if(void 0===t||!(s in t.pseudoclasses.emulatedInfo)){var u=e._styleSetupInfo[s];u.kill(e,u.state),delete e._styleSetupInfo[s]}if(void 0!==t)for(var s in t.pseudoclasses.emulatedInfo)s in e._styleSetupInfo||!function(t,n){var i=n.fns.setup(e,function(){var e=o[t]!==!0;e&&(o[t]=!0,r())},function(){var e=o[t]!==!1;e&&(o[t]=!1,r())},n.parameter);e._styleSetupInfo[t]={state:i,kill:n.fns.kill}}(s,t.pseudoclasses.emulatedInfo[s]);if(void 0!==t)for(var c in t.pseudoclasses.emulatedInfo){var l=t.pseudoclasses.emulatedInfo[c];o[c]=l.fns.check(e,l.parameter)}r()}function i(e,t,n,i){if(void 0!==e.parent&&void 0!==t)var s=x(e.parent.computedStyleMap,t.componentStyleMap);else if(void 0!==e.parent)var s=e.parent.computedStyleMap;else if(void 0!==t)var s=t.componentStyleMap;else var s=void 0;var a=void 0,u=!1;if(void 0!==t){if(void 0!==e.parent)var c=e.parent._nativePseudoclassMap;else var c={};var l=y(c,e),h=t.createNativeCssInfo(e,s,l,n,i);h.cancel?(u=!0,r(e,h.retryStyle)):(a=h.style,s=h.styleMap,e._nativePseudoclassMap=h.nativePseudoclassMap)}u||o(e,a,s)}function o(e,t,n){var r=t!==e._activeStyle,i=e.computedStyleMap!==n;if(r){h(e,t);var o=void 0===e._activeStyle?void 0:e._activeStyle.setup,s=void 0===t?void 0:t.setup;o!==s&&(l(e),c(e,t)),e._activeStyle=t}e.computedStyleMap=n,e.children.forEach(function(e){(i||!e.attached)&&(e.attached=!0,e.style=e.style)})}function s(e,t){if(void 0===e||void 0===e.stateHandler)return void 0;var n=e.stateHandler(t);return n}function a(e,t){if(void 0===e)return{index:0};var n=0,r={index:0};return e.pseudoclasses.classes.forEach(function(e,i){if(!e.pureNative){for(var o=0;o<i.length;o++){var s=i[o];if(!t[s])break}o===i.length&&(r={index:n,style:e})}n++}),r}function u(e){void 0!==e.defaultStyle&&d(e.defaultStyle);for(var t=[],n=e.constructor;void 0!==n;)void 0!==n.defaultStyle&&t.push(n.defaultStyle),n=n.parent;for(var r=t.reverse(),i=r[0],o=1;o<r.length;o++)i=i.mix(r[o],!1);return i}function c(e,t){e._styleSetupObject=void 0!==t&&void 0!==t.setup?t.setup(e,t):void 0}function l(e){var t=e._activeStyle;if(void 0!==t&&void 0!==t.setup){if(void 0===t.kill)throw new Error('style has been unset but does not have a "kill" function to undo its "setup" function');t.kill(e,e._styleSetupObject)}}function h(e,t){var n=e._activeStyle;void 0!==n&&e.domNode.classList.remove(n.className),void 0!==t&&e.domNode.classList.add(t.className)}function d(e){if(!f(e))throw new Error("defaultStyle property must be a Style object")}function f(e){return void 0!==e.className&&void 0!==e.componentStyleMap&&void 0!==e.mix}var v=n(28),p=(n(2),n(17)),m=new v,g=new v,y=t.getStyleForComponent=function(e,t){return void 0===e?void 0:b(e,t)||w(e,t)},b=t.getStyleForLabel=function(e,t){return void 0!==t.label&&"$"+t.label in e?e["$"+t.label]:void 0},w=t.getStyleForBlockName=function(e,t){for(var n=t.constructor;void 0!==n;){var r=e[n.name];if(void 0!==r)return r;n=n.parent}},x=(t.getInheritingStyle=function(e){function t(e,t){for(var n=[],r=!0,i=e,o=e;void 0!==i;){if(void 0!==i.computedStyleMap)var s=i.computedStyleMap[t];if(void 0!==s&&(-1===n.indexOf(s)&&n.push(s),o=i,r=s.inherit,!r))break;i=i.parent}return{styles:n,nextAncestorToSearchFrom:o,inherit:r}}var n=e.parent;if(void 0===n||void 0===n.computedStyleMap)return void 0;if(void 0!==e.label)var r="$"+e.label,i=e.constructor;else var r=e.constructor.name,i=e.constructor.parent;for(var o=n,s=[],a=!0;void 0!==o;){var u=t(o,r);if(s=s.concat(u.styles),o=u.nextAncestorToSearchFrom,a=u.inherit,void 0===i||!a)break;if("Gem"===r)break;r=i.name,i=i.parent}for(var c=s.reverse(),l=c[0],h=1;h<c.length;h++)l=l.mix(c[h],!1);return l},t.styleMapConjunction=function(e,t){if(void 0===e)return t;if(void 0===t)return e;var n=g.get([e,t]);if(void 0===n){if(void 0===e)n=t;else if(void 0===t)n=e;else{var r={},i=!1;for(var o in t)e[o]!==t[o]&&(r[o]=t[o],i=!0);n=i?p.objectConjunction(e,r):e}void 0===n&&(n=!1),g.set([e,t],n)}return n===!1?void 0:n});t.getDefaultStyle=function(e){var t=m.get(e.constructor);return void 0===t&&(t=u(e),void 0===t&&(t=!1),m.set(e.constructor,t)),t===!1?void 0:t};var S=t.mixStyles=function(e,t){return void 0===e?t:e.mix(t,!1)};t.setCurrentStyle=function(e,t,n){var i=void 0===e._currentStyle?void 0:e._currentStyle.stateHandler,o=void 0===t?void 0:t.stateHandler;i!==o&&(void 0!==e._stateChangeHandler&&(e.state.removeListener("change",e._stateChangeHandler),e._stateChangeHandler=void 0),void 0!==o&&e.state.on("change",e._stateChangeHandler=function(){var t=s(e._currentStyle,e.state.subject);r(e,S(e._currentStyle,t))})),e._currentStyle=t;var a=s(t,e.state.subject),u=S(t,a);r(e,u,n)}},function(e,t,n){function r(e,t,n){i(e[t][n],n),i(e[a(t)],n)}function i(e,t){if(void 0!==e)for(var n=0;n<e.length;n++)e[n](t)}function o(e,t,n,r){if(n instanceof Function&&(r=n,n=void 0),void 0!==n&&void 0!==r){var i=e[t][n];void 0===i&&(i=e[t][n]=[]),i.push(r)}else e[a(t)].push(r)}function s(e,t,n,r){if(n instanceof Function&&(r=n,n=void 0),void 0!==n&&void 0!==r)u(e[t][n],r);else if(void 0!==n)delete e[t][n];else if(void 0!==r){var i=a(t);u(e[i],r)}else{var i=a(t);e[t]={},e[i]=[]}}function a(e){return"ifonHandlers"===e?"ifonAllHandlers":"ifoffHandlers"===e?"ifoffAllHandlers":void 0}function u(e,t){var n=e.indexOf(t);e.splice(n,1)}var c=n(26).EventEmitter,l=n(27),h=n(17);e.exports=l(c,function(e){this.init=function(){e.apply(this,arguments),this.ifonHandlers={},this.ifoffHandlers={},this.ifonAllHandlers=[],this.ifoffAllHandlers=[]},this.ifon=function(e,t){if(e instanceof Function){t=e;for(var n in this._events)this.listeners(n).length>0&&t(n)}else this.listeners(e).length>0&&t(e);o(this,"ifonHandlers",e,t)},this.removeIfon=function(e,t){s(this,"ifonHandlers",e,t)},this.ifoff=function(e,t){o(this,"ifoffHandlers",e,t)},this.removeIfoff=function(e,t){s(this,"ifoffHandlers",e,t)},this.proxy=function(e,t){if(void 0===t&&(t={}),void 0!==t.except)var n=h.arrayToMap(t.except),r=function(e){return!(e in n)};else if(void 0!==t.only)var i=h.arrayToMap(t.only),r=function(e){return e in i};else var r=function(){return!0};var o,s=this;this.ifon(function(t){r(t)&&e.on(t,o=function(){s.emit.apply(s,[t].concat(Array.prototype.slice.call(arguments)))})}),this.ifoff(function(t){r(t)&&e.off(t,o)})},this.on=this.addListener=function(t){var n=0===this.listeners(t).length;e.prototype.on.apply(this,arguments),n&&r(this,"ifonHandlers",t)},this.off=this.removeListener=function(t){var n=1===this.listeners(t).length;e.prototype.removeListener.apply(this,arguments),n&&r(this,"ifoffHandlers",t)},this.removeAllListeners=function(t){var n=[];if(void 0!==t)this.listeners(t).length>0&&n.push(t);else for(var t in this._events)this.listeners(t).length>0&&n.push(t);e.prototype.removeAllListeners.apply(this,arguments);for(var i=0;i<n.length;i++)r(this,"ifoffHandlers",n[i])}})},function(e,t){function n(e,t){for(var n,r=[e];n=r.pop();)if(3==n.nodeType){if(t(n)===!0)break}else for(var i=n.childNodes.length;i--;)r.push(n.childNodes[i])}function r(e,t){for(var n=0,r=!0,i=0;t>i-n&&i<e.length;i++)-1!==[" ","\n","	","\r"].indexOf(e.textContent[i])?r?n++:r=!0:r=!1;return n}t.textProperty="textContent";var i=t.node=function(e,t,n){var r=document.createElement(e);if(void 0!==n){if(void 0!==n.attr)for(var i in n.attr)o(r,i,n.attr[i]);void 0!==n.textContent&&(r.textContent=n.textContent)}return void 0!==t&&(r.className=t),r};t.div=function(e,t){return i("div",e,t)};var o=e.exports.setAttribute=function(){if(2===arguments.length)var e=this.domNode,t=arguments[0],n=arguments[1];else{if(3!==arguments.length)throw new Error("This function expects arguments to be: [domNode,] type, value");var e=arguments[0],t=arguments[1],n=arguments[2]}var r=document.createAttribute(t);r.value=n,e.setAttributeNode(r)};t.setSelectionRange=function(e,t,i){if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName)e.setSelectionRange(t,i);else{var o=0,s=document.createRange();s.setStart(e,0),s.collapse(!0);var a=!1;n(e,function(e){var n=r(e,e.length),u=o+e.length-n;if(!a&&t>=o&&u>=t){var c=t-o,l=r(e,c);s.setStart(e,c+l),a=!0}if(a&&i>=o&&u>=i){var c=i-o,h=r(e,c);return s.setEnd(e,c+h),!0}o=u});var u=window.getSelection();u.removeAllRanges(),u.addRange(s)}},t.getSelectionRange=function(e){for(var t=window.getSelection(),i="INPUT"===e.nodeName||"TEXTAREA"===e.nodeName,o=0;o<t.rangeCount;o++){var s=t.getRangeAt(0);if(!i){var a=e.contains(s.startContainer);if(a)var u=e,c=!0;else var u=s.commonAncestorContainer,c=!1,l=!1;var h,d,f=0;return n(u,function(t){if(c){if(!a&&!e.contains(t))return!0}else{if(t===s.startContainer&&(l=!0),!e.contains(t)||!l)return;l&&(c=!0)}return t===s.startContainer&&(h=f+s.startOffset-r(t,s.startOffset)),t===s.endContainer?(d=f+s.endOffset-r(t,s.endOffset),!0):void(f+=t.length-r(t,t.length))}),void 0!==h||c?(void 0===h&&(h=0),void 0===d&&(d=f),[h,d]):void 0}if(s.startOffset===s.endOffset&&s.startContainer.children[s.startOffset]===e)return[e.selectionStart,e.selectionEnd]}}},function(e,t,n){var r=n(1),i=n(27),o=n(2);e.exports=i(r,function(e){this.name="ListItem",this.defaultStyle=o({display:"list-item"}),this.init=function(){if(arguments.length<=1)var t=arguments[0];else var n=arguments[0],t=arguments[1];this.domNode=document.createElement("li"),e.init.call(this),this.label=n,t instanceof r?this.add(t):void 0!==t&&(this.domNode.textContent=t)}})},function(e,t,n){var r=n(27),i=n(1),o=n(2),s=n(20);e.exports=r(i,function(e){this.name="Option",this.defaultStyle=o({display:"block"}),this.init=function(){this.domNode=document.createElement("option"),e.init.call(this),2===arguments.length?(this.val=arguments[0],this.text=arguments[1]):(this.label=arguments[0],this.val=arguments[1],this.text=arguments[2])},Object.defineProperty(this,"val",{get:function(){return this._value},set:function(e){if(void 0!==this.parent){if(void 0!==this.parent.options[e])throw new Error("Can't give an Option the same value as another in the Select or MultiSelect (value: "+JSON.stringify(e)+")");null!==this.val&&delete this.parent.options[this.val],this.parent.options[e]=this}this._value=e,this.selected&&void 0!==this.parent&&this.parent.emit("change")}}),Object.defineProperty(this,"selected",{get:function(){return this.domNode.selected},set:function(e){var t=e===!0;return this.selected===t?!1:(void 0!==this.parent&&this.parent.prepareForValueChange([this.val]),this.setSelectedQuiet(t),void(void 0!==this.parent&&this.parent.emit("change")))}}),Object.defineProperty(this,"text",{get:function(){return this.domNode[s.textProperty]},set:function(e){this.domNode[s.textProperty]=e}}),this.setSelectedQuiet=function(e){this.selected!==e&&(this.domNode.selected=e,this.emit("change"))}})},function(e,t,n){var r=n(30);e.exports=r("th","TableHeader")},function(e,t,n){var r=n(30);e.exports=r("tr","TableRow")},function(e,t,n){var r=n(1),i=n(27),o=n(2);e.exports=i(r,function(e){this.name="TableCell",this.defaultStyle=o({display:"table-cell"}),this.init=function(){if(arguments.length<=1)var t=arguments[0];else var n=arguments[0],t=arguments[1];this.domNode=document.createElement("td"),e.init.call(this),this.label=n,t instanceof r||"string"!=typeof t?this.add(t):void 0!==t&&(this.domNode.textContent=t)},this.colspan=function(e){this.attr("colspan",e)}})},function(e){function t(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function r(e){return"number"==typeof e}function i(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=t,t.EventEmitter=t,t.prototype._events=void 0,t.prototype._maxListeners=void 0,t.defaultMaxListeners=10,t.prototype.setMaxListeners=function(e){if(!r(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},t.prototype.emit=function(e){var t,r,s,a,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(r=this._events[e],o(r))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:for(s=arguments.length,a=new Array(s-1),u=1;s>u;u++)a[u-1]=arguments[u];r.apply(this,a)}else if(i(r)){for(s=arguments.length,a=new Array(s-1),u=1;s>u;u++)a[u-1]=arguments[u];for(c=r.slice(),s=c.length,u=0;s>u;u++)c[u].apply(this,a)}return!0},t.prototype.addListener=function(e,r){var s;if(!n(r))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(r.listener)?r.listener:r),this._events[e]?i(this._events[e])?this._events[e].push(r):this._events[e]=[this._events[e],r]:this._events[e]=r,i(this._events[e])&&!this._events[e].warned){var s;s=o(this._maxListeners)?t.defaultMaxListeners:this._maxListeners,s&&s>0&&this._events[e].length>s&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},t.prototype.on=t.prototype.addListener,t.prototype.once=function(e,t){function r(){this.removeListener(e,r),i||(i=!0,t.apply(this,arguments))}if(!n(t))throw TypeError("listener must be a function");var i=!1;return r.listener=t,this.on(e,r),this},t.prototype.removeListener=function(e,t){var r,o,s,a;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],s=r.length,o=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(r)){for(a=s;a-->0;)if(r[a]===t||r[a].listener&&r[a].listener===t){o=a;break}if(0>o)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},t.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],n(r))this.removeListener(e,r);else for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},t.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},t.listenerCount=function(e,t){var r;return r=e._events&&e._events[t]?n(e._events[t])?1:e._events[t].length:0}},function(e){"use strict";function t(){var e=arguments;if(1==e.length)var l={init:o},h=e[0];else var l=e[0],h=e[1];var d={};-1!==[Error,EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError].indexOf(l)&&(l=n(l,d));var f="function"==typeof l;h[s]=f?l[s]:l;var v=new h(l);d.name=v.name,!v[u]&&f&&(v[u]=function(){l.apply(this,arguments)});var p=function(){};p[s]=v;var m=v.name?v.name:"";if(v[u]===i||v[u]===o)var g=new Function("F","return function "+m+"(){return new F()}")(p);else var g=new Function("F","i","u","n","return function "+m+"(){ var x=new F(),r=i.apply(x,arguments)\nif(r===n)\nreturn x\nelse if(r===u)\nreturn n\nelse\nreturn r\n}")(p,v[u],t[a]);v.constructor=g;for(var y in v)r(g,v,y);for(var y in l)c.call(l,y)&&g[y]===i&&r(g,l,y);return g.parent=l,g[s]=v,g}function n(e,t){function n(){var n=new e(arguments[0]);return n.name=t.name,this.message=n.message,Object.defineProperty?Object.defineProperty(this,"stack",{get:function(){return n.stack},configurable:!0}):this.stack=n.stack,this}var r=function(){};return r.prototype=e.prototype,n.prototype=new r,n}function r(e,t,n){try{var r=Object.getOwnPropertyDescriptor(t,n);r.get!==i||r.get!==i&&Object.defineProperty!==i?Object.defineProperty(e,n,r):e[n]=t[n]}catch(o){}}var i,o=function(){},s="prototype",a="undefined",u="init",c={}.hasOwnProperty;t[a]={},e.exports=t},function(e,t){var n,r,i;!function(o){r=[],n=o,i="function"==typeof n?n.apply(t,r):n,!(void 0!==i&&(e.exports=i))}(function(){function e(e){switch(this.clear(),arguments.length){case 0:break;case 1:this.copy(e);break;default:t(this,arguments)}}function t(e,t){for(var n=0;n<t.length;n+=2)e.set(t[n],t[n+1])}function n(e){return function(){return e.apply(this,arguments),this}}function r(e,t){Object.defineProperty&&Object.defineProperty(e,t,{enumerable:!1})}var i=e.prototype={constructor:e,get:function(e){var t=this._data[this.hash(e)];return t&&t[1]},set:function(e,t){this._data[this.hash(e)]=[e,t]},multi:function(){t(this,arguments)},copy:function(e){for(var t in e._data)this._data[t]=e._data[t]},has:function(e){return this.hash(e)in this._data},search:function(e){for(var t in this._data)if(this._data[t][1]===e)return this._data[t][0];return null},remove:function(e){delete this._data[this.hash(e)]},type:function(e){var t=Object.prototype.toString.call(e),n=t.slice(8,-1).toLowerCase();return"domwindow"!==n||e?n:e+""},keys:function(){var e=[];return this.forEach(function(t,n){e.push(n)}),e},values:function(){var e=[];return this.forEach(function(t){e.push(t)}),e},count:function(){return this.keys().length},clear:function(){this._data={}},clone:function(){return new e(this)},hash:function(t){switch(this.type(t)){case"undefined":case"null":case"boolean":case"number":case"regexp":return t+"";case"date":return""+t.getTime();case"string":return""+t;case"array":for(var n=[],i=0;i<t.length;i++)n[i]=this.hash(t[i]);return""+n.join("");default:return t.hasOwnProperty("_hmuid_")||(t._hmuid_=++e.uid,r(t,"_hmuid_")),""+t._hmuid_}},forEach:function(e,t){for(var n in this._data){var r=this._data[n];e.call(t||this,r[1],r[0])}}};e.uid=0;for(var o in i)if("constructor"!==o&&i.hasOwnProperty(o)){var s=i[o];-1===s.toString().indexOf("return ")&&(i[o]=n(s))}return e})},function(e,t,n){function r(e){return e instanceof Array||(e=e.toString().split(".")),e}function i(e,t){for(var n=e,r=0;r<t.length-1;r++)n=n[t[r]];return{obj:n,key:t[r]}}function o(e,t,n,r){var o=i(e.subject,t),s=n;r.union===!0&&(n=n.subject),o.obj[o.key]=n;var a={type:"set",property:t};void 0!==r.data&&(a.data=a.id=r.data),e.emit("change",a),void 0!==r.union&&h(e,s,t,r.union)}function s(e,t,n,r){var i=m(e.subject,t),o=i.length;i.push.apply(i,n);var s=c(i,o,n.length,r.union),a={type:"added",property:t,index:o,count:n.length};void 0!==r.data&&(a.data=a.id=r.data),e.emit("change",a),l(e,s,t,r.union)}function a(e,t,n,r){var i=n[0],o=n[1],s=m(e.subject,t),a=s.splice.apply(s,n);if(o>0){var u={type:"removed",property:t,index:i,removed:a};void 0!==r.data&&(u.data=u.id=r.data),e.emit("change",u)}if(n.length>2){var u={type:"added",property:t,index:i,count:n.length-2},h=c(s,i,u.count,r.union);void 0!==r.data&&(u.data=u.id=r.data),e.emit("change",u),l(e,h,t,r.union)}return a}function u(e,t,n,r){var i=n[0];if(0!==i.length){var o=m(e.subject,t),s=o.length,a=[s,0];a=a.concat(i);var u=o.length;o.splice.apply(o,a);var h=c(o,u,o.length,r.union),d={type:"added",property:t,index:s,count:i.length};void 0!==r.data&&(d.data=d.id=r.data),e.emit("change",d),l(e,h,t,r.union)}}function c(e,t,n,r){var i=[];if(void 0!==r)for(var o=t+n,s=t;o>s;s++)i.push({obj:e[s],index:s}),r===!0&&(e[s]=e[s].subject);return i}function l(e,t,n,r){for(var i=0;i<t.length;i++)h(e,t[i].obj,n.concat(t[i].index+""),r)}function h(e,t,n,r){var i=n.length;if(void 0===t.on||void 0===t.emit||void 0===t.removeListener||void 0===t.set)throw new Error("Attempting to union a value that isn't an observee");var o,s,a=[],u=[];t.on("change",o=function(t){if(-1===u.indexOf(t)){if(r)var i=n.concat(t.property);else var i=n.concat(["subject"]).concat(t.property);var o=p.merge({},t,{property:i});a.push(o),e.emit("change",o)}}),e.on("change",s=function(e){var o=e.property.length;if(r)var s=n;else var s=n.concat(["subject"]);var l=d(s,e,!0),h=l.isWithin,f=l.couldRelocate;if(h&&-1===a.indexOf(e)){if(r)var v=e.property.slice(i);else var v=e.property.slice(i+1);var m=p.merge({},e,{property:v});u.push(m),t.emit("change",m)}else if(f)if("set"===e.type)c();else if("removed"===e.type){var g=n[e.property.length],y=e.index<=g&&g<=e.index+e.removed.length-1,b=e.index+e.removed.length-1<g&&g;y&&i+1>=o?c():b&&(n[e.property.length]=g-e.removed.length)}else if("added"===e.type){var g=n[e.property.length];e.index<g&&(n[e.property.length]=g+e.count)}});var c=function(){t.removeListener("change",o),e.removeListener("change",s)}}function d(e,t,n){for(var r=e.length,i=void 0!==n,o=!0,s=!0,a=0;r>a;a++)t.property[a]!==e[a]+""&&(o=!1,a<t.property.length&&(s=!1));return!i&&t.property.length<r||i&&("set"===t.type&&t.property.length<=r||"set"!==t.type&&t.property.length<r)?o=!1:s=!1,{couldRelocate:s,isWithin:o}}var f=n(34),v=n(26).EventEmitter,p=n(33),m=(e.exports=f(v,function(){this.init=function(e){this.subject=e,this.setMaxListeners(1e3)},this.get=function(e){return g(this,r(e))},this.set=function(e,t){o(this,r(e),t,{})},this.push=function(){s(this,[],arguments,{})},this.pop=function(){var e=a(this,[],[this.subject.length-1,1],{});return e[0]},this.unshift=function(){a(this,[],[0,0].concat(Array.prototype.slice.call(arguments,0)),{})},this.shift=function(){var e=a(this,[],[0,1],{});return e[0]},this.reverse=function(){this.subject.reverse(),this.emit("change",{type:"set",property:[]})},this.sort=function(){this.subject.sort.apply(this.subject,arguments),this.emit("change",{type:"set",property:[]})},this.splice=function(){return a(this,[],arguments,{})},this.append=function(){u(this,[],arguments,{})},this.data=this.id=function(e){return g(this,[],{data:e})},this.union=function(e){return void 0===e&&(e=!1),g(this,[],{union:e})}}),e.exports.getPropertyValue=function(e,t){var n=i(e,t);return void 0!==n.key?n.obj[n.key]:n.obj}),g=f(v,function(){this.init=function(e,t,n){this.options=void 0===n?{}:n,this._observeeParent=void 0!==e._observeeParent?e._observeeParent:e,this.property=t,this.subject=m(e.subject,t);var r=this;e.on("change",function(n){var o=d(r.property,n,r.options.union);if("set"===n.type&&n.property.length<=r.property.length&&void 0===r.options.union){var s=i(e.subject,t);void 0!==s.obj&&(r.subject=void 0!==s.key?s.obj[s.key]:s.obj)}if(o.isWithin)r.emit("change",{type:n.type,property:n.property.slice(r.property.length),index:n.index,count:n.count,removed:n.removed,data:n.data});else if(o.couldRelocate)if("removed"===n.type){var a=r.property[n.property.length],u=n.index+n.removed.length-1<a;u&&(r.property[n.property.length]=a-n.removed.length)}else if("added"===n.type){var a=parseInt(r.property[n.property.length]);n.index<=a&&(r.property[n.property.length]=a+n.count)}})},this.get=function(e){return this._observeeParent.get(this.property.concat(r(e)))},this.set=function(e,t){o(this._observeeParent,this.property.concat(r(e)),t,this.options)},this.push=function(){s(this._observeeParent,this.property,arguments,this.options)},this.pop=function(){var e=a(this._observeeParent,this.property,[this.subject.length-1,1],this.options);return e[0]},this.unshift=function(){a(this._observeeParent,this.property,[0,0].concat(Array.prototype.slice.call(arguments,0)),this.options)},this.shift=function(){var e=a(this._observeeParent,this.property,[0,1],this.options);return e[0]},this.splice=function(){return a(this._observeeParent,this.property,arguments,this.options)},this.reverse=function(){this.subject.reverse(),this.emit("change",{type:"set",property:[]})},this.sort=function(){this.subject.sort.apply(this.subject,arguments),this.emit("change",{type:"set",property:[]})},this.append=function(){u(this._observeeParent,this.property,arguments,this.options)},this.data=this.id=function(e){return g(this._observeeParent,this.property,p.merge({},this.options,{data:e}))},this.union=function(e){return void 0===e&&(e=!1),g(this,[],p.merge({},this.options,{union:e}))}})},function(e,t,n){var r=n(27),i=n(1),o=n(2),s=n(25);e.exports=function(e,t){return r(i,function(n){this.name=t,this.defaultStyle=o({display:"table-row"}),this.init=function(){if(arguments[0]instanceof Array)var t=arguments[0];else var r=arguments[0],t=arguments[1];if(this.domNode=document.createElement(e),n.init.call(this),this.label=r,void 0!==t)for(var i=0;i<t.length;i++)this.cell(t[i])},this.cell=function(){var e=s.apply(void 0,arguments);return this.add(e),e}})}},function(e){e.exports=function(e){for(var t=Array.prototype.slice.call(e,0),n=0,r=t.length-1;r>=0&&void 0===t[r];r--)n++;return t.splice(t.length-n,n),t}},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return i.exec(e).slice(1)};t.resolve=function(){for(var t="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,i="/"===s.charAt(0))}return t=n(r(t.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+t||"."},t.normalize=function(e){var i=t.isAbsolute(e),o="/"===s(e,-1);return e=n(r(e.split("/"),function(e){return!!e}),!i).join("/"),e||i||(e="."),e&&o&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,function(e){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),a=s,u=0;s>u;u++)if(i[u]!==o[u]){a=u;break}for(var c=[],u=a;u<i.length;u++)c.push("..");
return c=c.concat(o.slice(a)),c.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=o(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},t.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return o(e)[3]};var s="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return 0>t&&(t=e.length+t),e.substr(t,n)}}).call(t,n(35))},function(e,t,n){function r(e,t){var n=e[0],i=e[1];for(var o in i)Object.hasOwnProperty.call(i,o)&&(t&&n[o]instanceof Object&&i[o]instanceof Object?r([n[o],i[o]],!0):n[o]=i[o]);if(e.length>2){var s=[n].concat(e.slice(2));return r(s,t)}return n}function i(e){return Array.prototype.slice.call(e,0)}n(32),t.merge=function(){return r(i(arguments),!1)},t.deepMerge=function(){return r(i(arguments),!0)}},function(e){"use strict";function t(){function e(){var e=new v;if(f[a]){var n=f[a].apply(e,arguments);return n===t[s]?i:n!==i?n:e}return e}var u=arguments;if(1==u.length)var c={},l=u[0];else var c=u[0],l=u[1];var h={};-1!==[Error,EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError].indexOf(c)&&(c=n(c,h));var d="function"==typeof c;l[o]=d?c[o]:c;var f=new l(c);f.constructor=e,h.name=f.name,!f[a]&&d&&(f[a]=function(){c.apply(this,arguments)});var v=function(){};v[o]=f;for(var p in f)r(e,f,p);for(var p in c)Object.hasOwnProperty.call(c,p)&&e[p]===i&&r(e,c,p);return e[o]=f,e}function n(e,t){function n(){var n=new e(arguments[0]);return n.name=t.name,this.message=n.message,Object.defineProperty?Object.defineProperty(this,"stack",{get:function(){return n.stack}}):this.stack=n.stack,this}var r=function(){};return r.prototype=e.prototype,n.prototype=new r,n}function r(e,t,n){try{var r=Object.getOwnPropertyDescriptor(t,n);r.get!==i||r.get!==i&&Object.defineProperty!==i?Object.defineProperty(e,n,r):e[n]=t[n]}catch(o){}}{var i,o="prototype",s="undefined",a="init";({}).hasOwnProperty}t[s]={},e.exports=t},function(e){function t(){}var n=e.exports={};n.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.MutationObserver,n="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};var r=[];if(t){var i=document.createElement("div"),o=new MutationObserver(function(){var e=r.slice();r.length=0,e.forEach(function(e){e()})});return o.observe(i,{attributes:!0}),function(e){r.length||i.setAttribute("yes","no"),r.push(e)}}return n?(window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),r.length>0)){var n=r.shift();n()}},!0),function(e){r.push(e),window.postMessage("process-tick","*")}):function(e){setTimeout(e,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.on=t,n.addListener=t,n.once=t,n.off=t,n.removeListener=t,n.removeAllListeners=t,n.emit=t,n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")}}])});
//# sourceMappingURL=Gem.umd.js.map